{"version":3,"sources":["luna-tabs.js"],"names":["LunaTabs","container","buttons","querySelectorAll","contents","init","setRoles","resetTabState","setFirstTab","clickEvents","keyEvents","setAttribute","forEach","button","content","classList","remove","add","addEventListener","tabId","getAttribute","querySelector","setActiveTab","tabList","tabFocus","event","keyCode","length","blur","focus"],"mappings":"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","file":"luna-tabs.js","sourceRoot":"..","sourcesContent":["export default class LunaTabs {\n  constructor(container) {\n    this.container = container;\n    this.buttons = this.container.querySelectorAll('[data-luna-tab]');\n    this.contents = this.container.querySelectorAll('[data-luna-tab-target]');\n    this.init();\n  }\n  init() {\n    this.setRoles();\n    this.resetTabState();\n    this.setFirstTab();\n    this.clickEvents();\n    this.keyEvents();\n  }\n  setRoles() {\n    this.container.setAttribute('role', 'tablist');\n    this.buttons.forEach(button => {\n      button.setAttribute('role', 'tab');\n      button.setAttribute('tabindex', '-1');\n    });\n    this.contents.forEach(content => {\n      content.setAttribute('role', 'tabpanel');\n      content.setAttribute('tabindex', 0);\n    });\n  }\n  resetTabState() {\n    this.buttons.forEach(button => {\n      button.setAttribute('aria-selected', false);\n      button.setAttribute('tabindex', '-1');\n      button.classList.remove('is-active');\n    });\n    this.contents.forEach(content => {\n      content.setAttribute('aria-hidden', true);\n      content.classList.remove('is-active');\n    });\n  }\n  setFirstTab() {\n    this.buttons[0].setAttribute('aria-selected', true);\n    this.buttons[0].classList.add('is-active');\n    this.buttons[0].setAttribute('tabindex', 0);\n    this.contents[0].setAttribute('aria-hidden', false);\n    this.contents[0].classList.add('is-active');\n  }\n  setActiveTab(button, content) {\n    button.setAttribute('aria-selected', true);\n    button.setAttribute('tabindex', 0);\n    button.classList.add('is-active');\n    content.setAttribute('aria-hidden', false);\n    content.classList.add('is-active');\n  }\n  clickEvents() {\n    this.buttons.forEach(button => {\n      button.addEventListener('click', () => {\n        const tabId = button.getAttribute('data-luna-tab');\n        const content = this.container.querySelector(`[data-luna-tab-target=\"${tabId}\"]`);\n        this.resetTabState();\n        this.setActiveTab(button, content);\n      });\n    });\n  }\n  keyEvents() {\n    const tabList = this.container.querySelector('[role=\"tablist\"]');\n\n    if (tabList === null) {\n      return;\n    }\n\n    let tabFocus = 0;\n\n    tabList.addEventListener('keydown', event => {\n      if (event.keyCode === 39) {\n        tabFocus++;\n        if (tabFocus >= this.buttons.length) {\n          tabFocus = 0;\n        }\n      } else if (event.keyCode === 37) {\n        tabFocus--;\n        if (tabFocus < 0) {\n          tabFocus = this.buttons.length - 1;\n        }\n      }\n      this.buttons.forEach(button => {\n        button.setAttribute('tabindex', '-1');\n        button.blur();\n      });\n      this.buttons[tabFocus].setAttribute('tabindex', 0);\n      this.buttons[tabFocus].focus();\n    });\n  }\n}\n"]}